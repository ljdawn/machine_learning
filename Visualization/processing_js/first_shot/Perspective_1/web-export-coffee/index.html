<!DOCTYPE html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Perspective_1 : Built with Processing and Processing.js</title>
		<link rel="icon"  type="image/x-icon" href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAQAAVzABAEAjBQAaDwYAWjUGAGE6CQBrQQ0ATS8PAFhAJwBUQC8AbFI6AHVXPACBZk4A4NrWAPb19QAAAAAAAMmZmZmZmgAJIwAAAAAAcMIjPjA+PjAKpxIuMDMzMAm0Ii4zMzMACaIiLt3dMAAJtyIuIzPQAAm0Un5yM+IzKLRkfncy4iIotRF+dyLkIiq0QX53F+EiGrQUTkd34iIatEVu7u5iIVrBVVRBRFRVbAtGZGZla2uwAMu7u7u8vADAAwAAgAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIABAADAAwAA" />
		<meta name="Generator" content="Processing" />
		<!-- + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + 
		+
		+   This is CoffeeScript running on Processing.js through Processing
		+
		+	See: https://github.com/fjenett/coffeescript-mode-processing
		+
		+   http://processing.org/
		+   http://processingjs.org/
		+	http://coffeescript.org/
		+
		L + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + -->
		<style type="text/css">
		body {
		  background-color: #333; color: #bbb; line-height: normal;
		  font-family: Lucida Grande, Lucida Sans, Arial, Helvetica Neue, Verdana, Geneva, sans-serif;
		  font-size: 11px; font-weight: normal; text-decoration: none;
	 	  line-height: 1.5em;
		}
		a, a:link, a:visited, a:active, a:hover { 
			color: #cdcdcd; text-decoration: underline;
		}
		h1 {
		    font-family: Arial, Helvetica Neue, Verdana, Geneva, sans-serif;
			width: 100%; letter-spacing: 0.1em;
			margin-bottom: 1em; font-size: 1.65em;
		}
		canvas { display: block; outline: 0px; margin-bottom: 1.5em; }
		#content { 
			margin: 50px auto 0px auto; padding: 25px 25px 15px 25px;
			width: 640px; min-width: 300px; overflow: auto;
			border-left: 1px solid #444; border-top: 1px solid #444; 
			border-right: 1px solid #333; border-bottom: 1px solid #333;
			background-color: #3d3d3d;
		}
		</style>
		<!--[if lt IE 9]>
			<script type="text/javascript">alert("Your browser does not support the canvas tag.");</script>
		<![endif]-->
		<script src="processing.js" type="text/javascript"></script>
		<script src="Perspective_1-compiled.js" type="text/javascript"></script>
		<script type="text/javascript">function getProcessingSketchID () { return 'Perspective1'; }</script>

	</head>
	<body>
		<div id="content">
			<div>
				<canvas id="Perspective1" 
						width="640" height="360">
					<p>Your browser does not support the canvas tag.</p>
					<!-- Note: you can put any alternative content here. -->
				</canvas>
				<noscript>
					<p>JavaScript is required to view the contents of this page.</p>
				</noscript>
	    	</div>
			<h1>Perspective_1</h1>
	    	<p id="description"></p>
			<p id="sources">Source code: <a href="Perspective_1.pde">Perspective_1</a> </p>
			<p id="">
			Written in <a href="http://coffeescript.org/" title="CoffeeScript">CoffeeScript</a> 
			on <a href="http://processing.org" title="Processing">Processing</a>
			and <a href="http://processingjs.org" title="Processing.js">Processing.js</a>
			</p>
		</div>
		<script type="text/coffeescript-processing">
class SketchPerspective1
    ###
    Perspective. 
    
    Move the mouse left and right to change the field of view (fov).
    Click to modify the aspect ratio. The perspective() function
    sets a perspective projection applying foreshortening, making 
    distant objects appear smaller than closer ones. The parameters 
    define a viewing volume with the shape of truncated pyramid. 
    Objects near to the front of the volume appear their actual size, 
    while farther objects appear smaller. This projection simulates 
    the perspective of the world more accurately than orthographic projection. 
    The version of perspective without parameters sets the default 
    perspective and the version with four parameters allows the programmer 
    to set the area precisely.
    ###
    
    setup: ->
        "Processing API injection iffy goes here";
        size 640, 360, P3D
        noStroke()
    
    draw: ->
        lights()
        background 102
        cameraY = height/2
        fov = mouseX / width * PI/2
        cameraZ = cameraY / tan( fov / 2 )
        aspect = width / height
        
        (aspect = aspect/2) if mousePressed
        
        perspective fov, aspect, cameraZ/10, cameraZ*10
        
        translate width/2+30, height/2, 0
        rotateX -PI/6
        rotateY PI/2 + mouseY/height * PI
        box 45
        translate 0, 0, -50
        box 30
        

</script>
		
		<script type="text/javascript">
		/* + + + + + + + + + + + + + + + + + + + + + + + + + +
		 +
		 +    Your CoffeeScript code has been precompiled to 
		 +    JavaScript. Below it is being mixed into a naked
		 +    Processing.js object to make it dance ...
		 +    Simple as that!
		 +
		 + + + + + + + + + + + + + + + + + + + + + + + + + + */
		window.onload = function(){
			if ( ! 'SketchPerspective1' in window ) {
				alert('Something went awfully wrong. Please check file SketchPerspective1-compiled.js');
				return;
			}
			var p5 = new Processing(
				document.getElementById("Perspective1"),
				function ( processing ) {
					var sketchObj = new SketchPerspective1();
					for ( var name in sketchObj ) {
						processing[name] = sketchObj[name];
					}
				}
			);
			p5['isMousePressed'] = 	 function(){ return p5.__mousePressed; }; 
			p5['isKeyPressed'] = 	 function(){ return p5.__keyPressed;   }; 
			p5['currentFrameRate'] = function(){ return p5.__frameRate;    };
		}
		</script>
	</body>
</html>
